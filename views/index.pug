extends layout

block content
  div(id='app')
    h1 #{title}
    p #{msg}
    div 
      form(id="searchform", v-on:submit.prevent="search")
        label(for="card-name") Name: &nbsp;
          input(name="card-name", v-model="searchName")
        label(for="card-supertypes") Super: &nbsp;
          input(name="card-supertypes", v-model="searchSupertypes")
        label(for="card-types") Types: &nbsp;
          input(name="card-types", v-model="searchTypes")
        label(for="card-subtypes") Sub: &nbsp;
          input(name="card-subtypes", v-model="searchSubtypes")
        button Search
    h2 Vue List:
    //- Loader
    div(v-if="loading") 
      div(class="loader") 
        div(class="loader__spinner")
          div(v-for="index in 4" :key="index" class="loader__dot")
    //- Grid of Results
    div(v-else class="grid")   
      div(v-for="item in items" class="grid__col") 
        div(class="card")
          h2(class="card__title") {{item.name}} 
          p cmc: {{item.cmc}}
          div(class="card__art")
            img(
              v-if="item.imageUrl" 
              v-bind:src="item.imageUrl " 
              class="card__img"
              alt="item.name"
              )
            img(
              v-else v-bind:src="'/images/card-back.jpg'" 
              class="card__img"
              alt="No Card Art Found"
              )
    
  script(src='https://cdn.jsdelivr.net/npm/vue/dist/vue.js')
  script(src='/javascripts/app.js')
    
